@using Minible5.Models.ViewModels
@model Minible5.Models.ViewModels.Clientes.EditClientesViewModels

@{
    ViewBag.Title = "Detalle Clientes";
    ViewBag.pTitle = "Detalle Clientes";
    ViewBag.pageTitle = "Clientes";
    Layout = "~/Views/_Shared/_Layout.cshtml";

    List<SelectListItem> itemsPaises = (List<SelectListItem>)ViewBag.itemsPaises;
    List<SelectListItem> itemsZonas = (List<SelectListItem>)ViewBag.itemsZonas;
    List<SelectListItem> itemsLocalidades = (List<SelectListItem>)ViewBag.itemsLocalidades;
    List<SelectListItem> itemsBodegas = (List<SelectListItem>)ViewBag.itemsBodegas;
    List<SelectListItem> itemsClases = (List<SelectListItem>)ViewBag.itemsClases;
    List<SelectListItem> itemsCobradores = (List<SelectListItem>)ViewBag.itemsCobradores;
    List<SelectListItem> itemsSectores = (List<SelectListItem>)ViewBag.itemsSectores;
    List<SelectListItem> itemsVendedores = (List<SelectListItem>)ViewBag.itemsVendedores;
    List<SelectListItem> itemsDiaPago = (List<SelectListItem>)ViewBag.itemsDiaPago;
    List<SelectListItem> itemsTipoPrecio = (List<SelectListItem>)ViewBag.itemsTipoPrecio;

}

<!-- plugin css -->
<link href="~/assets/libs/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
<!-- Sweet Alert-->
<link href="~/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="~/assets/libs/toastr/build/toastr.min.css">
<!-- dropzone css -->
<link href="~/assets/libs/dropzone/min/dropzone.min.css" rel="stylesheet" type="text/css" />

@using (Html.BeginForm("Edit", "clientes", FormMethod.Post, new { role = "form", @class = "needs-validation ", Novalidate = true }))
{
    <div class="row">
        <div class="col-lg-12">
            <div id="addproduct-accordion" class="custom-accordion">
                <div class="card">
                    <a href="#addproduct-billinginfo-collapse" class="text-dark" data-bs-toggle="collapse" aria-expanded="true" aria-controls="addproduct-billinginfo-collapse">
                        <div class="p-4">

                            <div class="media align-items-center">
                                <div class="me-3">
                                    <div class="avatar-xs">
                                        <div class="avatar-title rounded-circle bg-soft-primary text-primary">
                                            01
                                        </div>
                                    </div>
                                </div>
                                <div class="media-body overflow-hidden">
                                    <h5 class="font-size-16 mb-1">Información del Cliente</h5>
                                    <p class="text-muted text-truncate mb-0">Llena el formulario con los datos a editar.</p>
                                </div>
                                <i class="mdi mdi-chevron-up accor-down-icon font-size-24"></i>
                            </div>

                        </div>
                    </a>

                    <div id="addproduct-billinginfo-collapse" class="collapse show" data-bs-parent="#addproduct-accordion">
                        <div class="p-4 border-top">
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(d => d.idInternoClientes)

                            <div class="text-danger mb-3 row">
                                @Html.ValidationSummary(false)
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idCliente, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.idCliente, new { @class = "form-control", placeholder = "Codigo del Cliente", Required = true })
                                        <div class="invalid-feedback">
                                            Porfavor, el Codigo del Cliente.
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.nombreComercial, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.nombreComercial, new { @class = "form-control", placeholder = "Nombre Comercial", Required = true })
                                        <div class="invalid-feedback">
                                            Porfavor, ingrese el nombre del Cliente.
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.razonSocial, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.razonSocial, new { @class = "form-control", placeholder = "Razon Social" })
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.direccion, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.direccion, new { @class = "form-control", placeholder = "Direccion" })

                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.telefono, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.telefono, new { @class = "form-control", placeholder = "Telefono" })

                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.fax, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.fax, new { @class = "form-control", placeholder = "Fax" })

                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.apartadopostal, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.apartadopostal, new { @class = "form-control", placeholder = "Apartado Postal" })
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.cedula, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.cedula, new { @class = "form-control", placeholder = "DPI" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.nit, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.nit, new { @class = "form-control", placeholder = "Nit", Required = true })
                                        <div class="invalid-feedback">
                                            Porfavor, ingrese el nombre el Nit.
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.fechadealta, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.fechadealta, "{0:yyyy-MM-dd}", new { @class = "form-control", placeholder = "Fecha alta", @type = "date" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.diascredito, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.diascredito, new { @class = "form-control", placeholder = "Dias de credito", @type = "number", @step = "any" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.limitecredito, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.limitecredito, new { @class = "form-control", placeholder = "Limite de Credito", @type = "number", @step = "any" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.observaciones, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.observaciones, new { @class = "form-control", placeholder = "Observaciones" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.e_mail, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.e_mail, new { @class = "form-control", placeholder = "Correo Electronico" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.diapago, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.diapago, itemsDiaPago, "Seleccione el dia de Pago", new { @class = "form-control select2" })

                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.personacontacto_1, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.personacontacto_1, new { @class = "form-control", placeholder = "Persona Contacto 1" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.personacontacto_2, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.personacontacto_2, new { @class = "form-control", placeholder = "Persona Contacto 2" })
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.diasprontopago, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.diasprontopago, new { @class = "form-control", placeholder = "Dias Pronto Pago", @type = "number", @step = "any" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.descprontopago, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.descprontopago, new { @class = "form-control", placeholder = "DeCuento Pronto Pago", @type = "number", @step = "any" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.tipoprecio, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.tipoprecio, itemsTipoPrecio, "Seleccione Tipo Cliente", new { @class = "form-control select2", Required = true })

                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.cuentacontable, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.cuentacontable, new { @class = "form-control", placeholder = "Cuenta Contable" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.contador_luz, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.contador_luz, new { @class = "form-control", placeholder = "Contador Luz" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.sexo, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="form-check">
                                        @Html.RadioButtonFor(d => d.sexo, "M", new { @class = "form-check-input" })
                                        @Html.Label("sexo", "Masculino", new { @class = "form-check-label" })
                                    </div>

                                    <div class="form-check">
                                        @Html.RadioButtonFor(d => d.sexo, "F", new { @class = "form-check-input" })
                                        @Html.Label("sexo", "Femenino", new { @class = "form-check-label" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.dias_max_credito, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.dias_max_credito, new { @class = "form-control", placeholder = "Dias maximo Credito" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.dias_max_credito, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="input-group has-validation">
                                        @Html.TextBoxFor(d => d.dias_max_credito, new { @class = "form-control", placeholder = "Dias maximo Credito" })
                                    </div>
                                </div>
                            </div>                

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.agenteretenedor, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="form-check">
                                        @Html.CheckBoxFor(d => d.agenteretenedor, new { @class = "form-check-input" })                                        
                                    </div>                                   
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.altabaja, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    <div class="form-check">
                                        @Html.RadioButtonFor(d => d.altabaja, "A", new { @class = "form-check-input" })
                                        @Html.Label("altabaja", "Alta", new { @class = "form-check-label" })
                                    </div>

                                    <div class="form-check">
                                        @Html.RadioButtonFor(d => d.altabaja, "B", new { @class = "form-check-input" })
                                        @Html.Label("altabaja", "Baja", new { @class = "form-check-label" })
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoClase, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoClase, itemsClases, "Seleccione la Clase del Cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese la clase del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoLocalidad, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoLocalidad, itemsLocalidades, "Seleccione la Localidad del Cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese la localidad del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoCobrador, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoCobrador, itemsCobradores, "Seleccione la Localidad del Cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese el Cobrador del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoPais, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoPais, itemsPaises, "Seleccione el Pais del cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese el pais del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoVendedor, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoVendedor, itemsVendedores, "Seleccione el Vendedor del cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese el Vendedor del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoSectores, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoSectores, itemsSectores, "Seleccione el sector del cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese la ruta del Cliente.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoZona, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoZona, itemsZonas, "Seleccione la Zona del Cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese la zona del Cliente.
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3 row">
                                @Html.LabelFor(d => d.idInternoBodega, new { @class = "col-md-2 col-form-label" })
                                <div class="col-md-10">
                                    @Html.DropDownListFor(d => d.idInternoBodega, itemsBodegas, "Seleccione la bodega del cliente", new { @class = "form-control select2", Required = true })
                                    <div class="invalid-feedback">
                                        Porfavor, ingrese la bodega del Cliente.
                                    </div>
                                </div>
                            </div>


                            <!--
    <div class="mb-3 row">
       @* @Html.LabelFor(d => d.cta_bodega_inventario, new { @class = "col-md-2 col-form-label" })
        <div class="col-md-10">
            @Html.DropDownListFor(d => d.cta_bodega_inventario, items, "Seleccione el grupo", new { @class = "form-control select2", Required = true })
            <div class="invalid-feedback"> *@
                Porfavor, ingrese el grupo del usuario.
            </div>
        </div>
    </div>   -->

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- end row -->

    <div id="hiddenEmpresas"></div>

    <div class="row mb-4">
        <div class="col text-end">
            <a href="@Url.Action("Index", "clientes")" class="btn btn-danger"> <i class="uil uil-times me-1"></i> Cancelar </a>
            <button type="submit" class="btn btn-success"> <i class="uil uil-file-alt me-1"></i> Guardar </button>
        </div> <!-- end col -->
    </div> <!-- end row-->
}

<!-- JAVASCRIPT -->
<script src="~/assets/libs/jquery/jquery.min.js"></script>
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/metismenu/metisMenu.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/libs/waypoints/lib/jquery.waypoints.min.js"></script>
<script src="~/assets/libs/jquery.counterup/jquery.counterup.min.js"></script>
<script src="~/assets/js/app.js"></script>

<!-- plugins -->
<script src="~/assets/libs/select2/js/select2.min.js"></script>

<!-- Sweet Alerts js -->
<script src="~/assets/libs/sweetalert2/sweetalert2.min.js"></script>

<!-- toastr plugin -->
<script src="~/assets/libs/toastr/build/toastr.min.js"></script>

<!-- Table Editable plugin -->
<script src="~/assets/libs/table-edits/build/table-edits.min.js"></script>

<script>
    $(document).ready(function () { $("#Group").select2(); });
    $(document).ready(function () { $("#empresas").select2(); });

    let num = 0

    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": false,
        "progressBar": true,
        "positionClass": "toast-top-center",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": 300,
        "hideDuration": 1000,
        "timeOut": 5000,
        "extendedTimeOut": 1000,
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }


</script>